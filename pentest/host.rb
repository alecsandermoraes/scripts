require 'optparse'
require 'resolv'

options = {}
filename = File.basename(__FILE__)
OptionParser.new do |opts| 
    opts.banner = "Usage: ruby #{filename} [options]"

    opts.on("-dDOMAINS", "--domains=DOMAINS", Array, "Domains") do |domains|
        options[:domains] = domains
    end 
end.parse! 

unless options[:domains]
    puts "ForneÃ§a os Argumentos Corretamente"
    exit 
end 

options[:domains].each do |domain|
    begin
        ip = Resolv.getaddress(domain)
        puts "#{domain} -> #{ip}"
    rescue Resolv::ResolvError => e 
        puts "Erro ao Obter IP [#{e.message}]"
    end
end 